{
    "parserId": "{add parserid }",
    "created": "2024-08-21T14:34:00.546Z",
    "coreProperties": {},
    "modified": "2024-08-21T20:00:35.287Z",
    "id": "confluence",
    "type": "lucidworks.rest",
    "properties": {
        "serviceURL": "https://{add confluence instance}",
        "authenticationMode": {
            "basicAuth": {
                "password": "xXx-Redacted-xXx",
                "user": "add email address here!!!"
            }
        },
        "serviceEndpoints": [
            {
                "childrenRequests": [
                    {
                        "dataRequest": {
                            "endpoint": "/wiki/rest/api/content/${LW_PARENT_DATA_KEY}/child/comment",
                            "httpMethod": "GET",
                            "queries": [
                                {
                                    "queryKey": "expand",
                                    "queryValue": "body.storage"
                                }
                            ]
                        },
                        "childResponseMapping": {
                            "childDataPath": "results",
                            "parentIdKey": "id"
                        }
                    }
                ],
                "rootRequest": {
                    "dataRequest": {
                        "endpoint": "/wiki/rest/api/content",
                        "pagination": {
                            "paginationByBatchSize": {
                                "batchSize": 1,
                                "indexStart": 0
                            }
                        },
                        "httpMethod": "GET",
                        "queries": [
                            {
                                "queryKey": "start",
                                "queryValue": "${LW_INDEX_START}"
                            },
                            {
                                "queryKey": "limit",
                                "queryValue": "${LW_BATCH_SIZE}"
                            },
                            {
                                "queryKey": "expand",
                                "queryValue": "body.storage"
                            },
                            {
                                "queryKey": "type",
                                "queryValue": "blogpost"
                            }
                        ]
                    },
                    "rootResponseMapping": {
                        "dataId": "id",
                        "dataPath": "results"
                    }
                }
            },
            {
                "childrenRequests": [
                    {
                        "dataRequest": {
                            "endpoint": "/wiki/rest/api/content/${LW_PARENT_DATA_KEY}/child/comment",
                            "httpMethod": "GET",
                            "queries": [
                                {
                                    "queryKey": "expand",
                                    "queryValue": "body.storage"
                                }
                            ]
                        },
                        "childResponseMapping": {
                            "childDataId": "",
                            "childDataPath": "results",
                            "parentIdKey": "id"
                        }
                    }
                ],
                "rootRequest": {
                    "dataRequest": {
                        "endpoint": "/wiki/rest/api/content",
                        "pagination": {
                            "paginationByBatchSize": {
                                "batchSize": 1,
                                "indexStart": 0
                            }
                        },
                        "httpMethod": "GET",
                        "queries": [
                            {
                                "queryKey": "expand",
                                "queryValue": "body.storage"
                            },
                            {
                                "queryKey": "type",
                                "queryValue": "page"
                            },
                            {
                                "queryKey": "start",
                                "queryValue": "${LW_INDEX_START}"
                            },
                            {
                                "queryKey": "limit",
                                "queryValue": "${LW_BATCH_SIZE}"
                            }
                        ]
                    },
                    "rootResponseMapping": {
                        "dataId": "id",
                        "dataPath": "results"
                    }
                }
            }
        ],
        "collection": "{add collection here}"
    },
    "pipeline": "{add pipeline name}",
    "connector": "lucidworks.rest"
}